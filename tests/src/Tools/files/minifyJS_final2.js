'use strict';var CodeCraft=(CodeCraft||function(){});if(typeof(CodeCraft)==='function'){CodeCraft=new CodeCraft();};CodeCraft.BasicDOM=new(function(){var _bt=CodeCraft.BasicTools;var p=this.Control={Get:function(s,n){var o=(n===undefined)?document.querySelectorAll(s):n.querySelectorAll(s);var sp=s.split(' ');var lp=sp[sp.length-1];var l=o.length;if(l==0&&lp.charAt(0)!='#'){return null;}else if(l<=1&&lp.charAt(0)=='#'){if(l==0){return document.getElementById(lp.substr(1));}else if(o[0].hasAttribute('id')&&lp=='#'+o[0].id){return o[0];}}var nO=[];for(var i in o){if(o[i].nodeType===1){nO.push(o[i]);}}return nO;},Set:function(s,c){var n=(typeof(c.node)!=='undefined')?c.node:undefined;var o=p.Get(s,n);for(var it in o){if(typeof(c.attr)!=='undefined'){for(var ii in c.attr){o[it].setAttribute(ii,c.attr[ii]);}}if(typeof(c.prop)!=='undefined'){for(var ii in c.prop){o[it].style[ii]=c.prop[ii];}}if(typeof(c.event)!=='undefined'){for(var ii in c.event){p.SetEvent(o[it],ii,c.event[ii]);}}}},NextSibling:function(n){n=n.nextSibling;while(n!=null&&n.nodeType!=1){n=n.nextSibling;}return n;},PreviousSibling:function(n){n=n.previousSibling;while(n!=null&&n.nodeType!=1){n=n.previousSibling;}return n;},HasClass:function(n,c){var sC=n.className.split(' ');for(var i in sC){if(sC[i]==c){return true;}}return false;},SetClass:function(n,a,r){var nC='';var allC=n.className.split(' ');a=(a===null||a==='')?[]:(typeof(a)==='string')?[a]:a;r=(r===null||r==='')?[]:(typeof(r)==='string')?[r]:r;for(var i in allC){var rm=false;var c=_bt.Trim(allC[i]);if(c!=''){for(var j in r){if(c==r[j]){rm=true;}}if(!rm){a.push(allC[i]);}}}for(var i in a){nC+=a[i]+' ';}n.className=(nC.substr(0,nC.length-1));},AddClass:function(n,a){p.SetClass(n,a,null);},RemoveClass:function(n,r){p.SetClass(n,null,r);},GetClass:function(n){var aR=[];if(n.hasAttribute('class')){var sp=_bt.Trim(n.className).split(' ');for(var cl in sp){var c=_bt.Trim(sp[cl]);if(c!=''){aR.push(c);}}}return aR;},GetAttr:function(n,a,d){return(n.hasAttribute(a))?n.attributes[a].value.toString():d;},GetBooleanAttr:function(n,a,d){return _bt.TryParse.ToBoolean(p.GetAttr(n,a,d));},SetEvent:function(n,e,f){n.removeEventListener(e,f,false);n.addEventListener(e,f,false);},RemoveEvent:function(n,e,f){n.removeEventListener(e,f,false);},CreateElement:function(tag,text,attrs){var n=document.createElement(tag);if(attrs!=undefined&&attrs!=null){for(var it in attrs){n.setAttribute(it,attrs[it]);}}if(text!=undefined&&attrs!=null){n.textContent=text;}return n;},ConvertStringToDOMElement:function(s){var ifr=document.createElement('iframe');ifr.style.display='none';document.body.appendChild(ifr);ifr.contentDocument.open();ifr.contentDocument.write(s);ifr.contentDocument.close();var nDOM=ifr.contentDocument.body.firstChild.cloneNode(true);document.body.removeChild(ifr);return nDOM;},SetColGroup:function(t,h,f){h=(h===undefined)?true:h;f=(f===undefined)?true:f;var aClass=[];var aStyle=[];var cols=p.Get('colgroup col',t);for(var c in cols){aClass.push(p.GetAttr(cols[c],'class',''));aStyle.push(p.GetAttr(cols[c],'style',''));}var __setColRules=function(pN){var aTr=p.Get('tr',pN);for(var r in aTr){var aTd=p.Get('td',aTr[r]);if(aTd==null){aTd=p.Get('th',aTr[r]);}for(var i=0;i<aClass.length;i++){var aC=aClass[i];var aS=aStyle[i];if(i<aTd.length){var td=aTd[i];aC+=' '+p.GetAttr(td,'class','');aS+=' '+p.GetAttr(td,'style','');if(aC!=' '){td.setAttribute('class',aC);}if(aS!=' '){td.setAttribute('style',aS);}var cs=p.GetAttr(td,'colspan',0);i+=parseInt(cs,10);}}}};if(h==true){var tH=p.Get('thead',t);if(tH!=null){__setColRules(tH[0]);}}if(f==true){var tF=p.Get('tfoot',t);if(tF!=null){__setColRules(tF[0]);}}var tB=p.Get('tbody',t);if(tB==null){tB=t;}else{tB=tB[0];}__setColRules(tB);},AutoSetColGroup:function(){var aT=p.Get('table');for(var it in aT){var t=aT[it];if(t.hasAttribute('data-ccw-autosetcolgroup')){var setH=false;var setF=false;var th=p.Get('thead',t);var tf=p.Get('tfoot',t);if(th!=null){th=th[0];}if(tf!=null){tf=tf[0];}if(th!=null){setH=!th.hasAttribute('data-ccw-autosetcolgroup-ignore');}if(tf!=null){setF=!tf.hasAttribute('data-ccw-autosetcolgroup-ignore');}p.SetColGroup(t,setH,setF);}}},LinkEventHover:function(e){var _dom=CodeCraft.BasicDOM;var tgt=_dom.Get('#'+e.getAttribute('data-ccw-link-hover'));var __event_OnMouseOver=function(o){_dom.AddClass(_dom.Get('[data-ccw-link-hover="'+o.target.id+'"]')[0],'hover');};var __event_OnMouseOut=function(o){_dom.RemoveClass(_dom.Get('[data-ccw-link-hover="'+o.target.id+'"]')[0],'hover');};_dom.SetEvent(tgt,'mouseover',__event_OnMouseOver);_dom.SetEvent(tgt,'mouseout',__event_OnMouseOut);},AutoSetRules:new(function(){var _autoSetRules={};var pp=this.Control={AddRules:function(rules,reset){reset=(reset===undefined)?false:reset;if(reset==true){_autoSetRules={};}for(var it in rules){_autoSetRules[it]=rules[it];}},ImplementRules:function(){for(var css in _autoSetRules){var tg=p.Get(css);var rl=_autoSetRules[css];if(tg!=null){for(var it in tg){var el=tg[it];for(var attr in rl){var v=rl[attr];if(v===null){el.removeAttribute(attr);}else if(_bt.IsString(v)){el.setAttribute(attr,v);}else{v(el);}}}}}},SetLabelledBy:function(e,tgts){var lbl=null;for(var it in tgts){if(lbl==null){var l=p.Get(tgts[it],e);if(l!=null){lbl=l[0];}}}if(lbl!=null){var eId=(e.hasAttribute('id'))?e.id:null;var lblId=(lbl.hasAttribute('id'))?lbl.id:null;if(lblId!=null){e.setAttribute('aria-labelledby',lblId);}else if(lblId==null&&eId!=null){var lblId=eId+'_lblid';lbl.setAttribute('id',lblId);e.setAttribute('aria-labelledby',lblId);}}}};return pp;}),CoverTests:function(){var i=(1000/10);}};return p;});
'use strict';var CodeCraft=(CodeCraft||function(){});if(typeof(CodeCraft)==='function'){CodeCraft=new CodeCraft();};CodeCraft.BasicTools=new(function(){var p=this.Control={TypeOf:function(o){return Object.prototype.toString.call(o);},IsNotNullValue:function(o){return(o!==undefined&&o!==null&&o!=='')?true:false;},IsObject:function(v){return(typeof(v)==='object')?true:false;},IsBoolean:function(v){return(typeof(v)==='boolean')?true:false;},IsNumber:function(v){return(typeof(v)==='number')?true:false;},IsInteger:function(v){return(typeof(v)==='number'&&(v%1===0))?true:false;},IsString:function(v){return(typeof(v)==='string')?true:false;},IsDate:function(v){return(p.TypeOf(v)==='[object Date]')?true:false;},IsArray:function(v){return(p.TypeOf(v)==='[object Array]')?true:false;},IsJSON:function(v){return(p.TypeOf(v)==='[object Object]')?true:false;},IsFunction:function(v){return(typeof(v)==='function')?true:false;},Trim:function(s){return s.toString().replace(/^\s+|\s+$/g,'');},ReplaceAll:function(s,o,n){var sR=s;while(sR.indexOf(o)!=-1){sR=sR.replace(o,n);}return sR;},RemoveChars:function(s,r){var sR=s;for(var i=0;i<r.length;i++){sR=p.ReplaceAll(sR,r.charAt(i),'');}return sR;},GetQueryString:function(k,url){url=(url===undefined)?window.location.href:url;var reg=new RegExp('[?&]'+k+'=([^&#]*)','i');var v=reg.exec(url);return((v)?decodeURI(v[1]):null);},TryParse:{ToBoolean:function(o){var r=null;switch(typeof(o)){case 'boolean':r=o;break;case 'number':if(o===0||o===1){r=(o===0)?false:true;}else{r=false;}break;case 'string':switch(o.toLowerCase()){case 'true':case 'yes':case '1':case 'on':case 'checked':case 'disabled':case 'multiple':case 'readonly':case 'required':r=true;break;case 'false':case 'no':case '0':case 'off':r=false;break;default:r=false;break;}break;default:r=(p.IsNotNullValue(o))?true:false;break;}return r;},ToNumber:function(o){if(p.IsNumber(o)){return o;}else{if(p.IsBoolean(o)){return(o)?1:0;}else if(p.IsString(o)&&o!==''&&!isNaN(o)){return parseFloat(o);}return o;}},ToInteger:function(o){if(p.IsNumber(o)){return parseInt(o,10);}else{if(p.IsBoolean(o)){return(o)?1:0;}else if(p.IsString(o)&&o!==''&&!isNaN(o)){return parseInt(o,10);}return o;}},ToFloat:function(o){o=p.TryParse.ToNumber(o);if(p.IsNumber(o)){return parseFloat(o);}return o;},ToDate:function(o,mk){if(p.IsNumber(o)){return new Date(o);}else if(p.IsString(o)&&o!==''){mk=(mk===undefined)?'yyyy-MM-dd HH:mm:ss':mk;var sO=o;var oR=null;var Clean=function(f){f=f.replace('t',' ').replace('T',' ');return p.RemoveChars(f,'-/.:wWzZ');};sO=Clean(sO);mk=Clean(mk);if(sO.length==mk.length){var y='';var M='';var d='';var H='';var m='';var s='';for(var i=0;i<mk.length;i++){var n=sO.charAt(i);var part=mk.charAt(i);switch(part){case 'y':y+=n;break;case 'M':M+=n;break;case 'd':d+=n;break;case 'H':H+=n;break;case 'm':m+=n;break;case 's':s+=n;break;}}var out=false;(y=='')?y='0001':((y<1||y>9999)?out=true:'');(M=='')?M='01':((M<1||M>12)?out=true:'');(d=='')?d='01':((d<1||d>31)?out=true:'');(H=='')?H='00':((H<0||H>23)?out=true:'');(m=='')?m='00':((m<0||m>59)?out=true:'');(s=='')?s='00':((s<0||s>59)?out=true:'');if(!out){oR=Date.parse(y+'-'+M+'-'+d+'T'+H+':'+m+':'+s);oR=(isNaN(oR))?null:new Date(oR);return oR;}}}return o;}},InitiSet:function(o,d,u){d=(d===undefined)?null:d;u=(u===undefined)?false:u;if(u){return(o===undefined)?d:o;}else{return(p.IsNotNullValue(o))?o:d;}},DynamicSort:function(pn,so,tp){var asc=(so==='asc');var _sort=function(a,b){var r=null;var aV=a[pn];var bV=b[pn];switch(tp){case 'Integer':case 'Float':case 'Date':if(aV==null){if(tp=='Date'){aV=new Date(-8640000000000000);}else{aV=Number.MIN_VALUE;}}if(bV==null){if(tp=='Date'){bV=new Date(-8640000000000000);}else{bV=Number.MIN_VALUE;}}if(asc){r=aV-bV;}else{r=bV-aV;}break;case 'String':aV=(aV==null)?'':aV.toLowerCase();bV=(bV==null)?'':bV.toLowerCase();var r=(aV<bV)?-1:(aV>bV)?1:0;r=(asc)?r:r*-1;break;}return r;};return _sort;},CloneObject:function(o){if(o===null||o===undefined){return o;}else if(p.IsObject(o)){if(p.IsDate(o)){return new Date(o.getTime());}else if(p.IsArray(o)){var c=[];for(var i in o){c[i]=p.CloneObject(o[i]);}return c;}else{var c={};for(var i in o){if(p.IsObject(o[i])){c[i]=p.CloneObject(o[i]);}else{c[i]=o[i];}}return c;}}else{return o;}},GetFieldType:function(f){var r={IsField:false,IsTextArea:false,IsSelect:false,IsRadio:false,IsCheckBox:false};var t=f.tagName.toLowerCase();switch(t){case 'input':var tp=f.getAttribute('type').toLowerCase();if(tp=='radio'){r.IsRadio=true;}else if(tp=='checkbox'){r.IsCheckBox=true;}else{r.IsField=true;}break;case 'textarea':r.IsTextArea=true;break;case 'select':r.IsSelect=true;break;}return r;},GetUniqueValues:function(arr){var nA=[];for(var it in arr){if(nA.indexOf(arr[it])===-1){nA.push(arr[it]);}}return nA;}};return p;});